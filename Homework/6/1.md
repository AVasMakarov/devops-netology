# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
> Документоортентированные, NoSQL, например MongoDB. Неоднородные данные, JSON - нативный способ хранения (пример из лекции)
- Склады и автомобильные дороги для логистической компании
> Графовые, например OrientDB. Можно построить наиболее оптимальный маршрут для перемещения
- Генеалогические деревья
> Реляционные БД. Гарантированная связность, при удалении кого-то тз родственников связи не разорвутся
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
> Ключ-значение, например  Redis, т.к. работают быстро и используются для хранения кэшированных данных(пример из лекции).
- Отношения клиент-покупка для интернет-магазина
> Реляционные БД. Гарантированная связность, при удалении пользователя или заказа связи не разорвутся

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

Доработка. 
> Изучил информацию по ссылкам. Да, действительно я не совсем верно понял суть свойств САР

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
> По CAP теореме - AP, т.к. не гарантирована целостность данных, но присутствует доступность и устойчивость к разделению 
> После того как мы записали данные они становятся доступны не сразу.
> По PACELC теореме вероятно PA/EL, т.к. необходима отзывчивость.
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
> По CAP теореме - AP, т.к. если система функционирует, разделённая на 2 части, она так же не может быть консистентной. 
> Аналогично предыдущему пункту, при разделении на 2 кластера не обеспечивается консистентность, но сохраняется доступность и устойчивость к разделению
> По PACELC теореме вероятно PA/EL, т.к. в случае разделения данные должны оставаться доступными.
- Система может не прислать корректный ответ или сбросить соединение
> По CAP теореме - CP, т.к. условие доступности требует, чтобы наши данные были доступны 24/7, а здесь допускается сбой.  
> По PACELC теореме вероятно PC/EC, т.к. при разделении нет доступности, при отсутствии разделения система сохраняет консистентность.

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
> В современном мире эти принципы почти всегда сочетаются, т.к. для бизнеса важна и надежность БД и доступность данных.
> Также применение ACID и BASE одновременно позволяет бизнесу быстрее подстраиваться под изменяющиеся условия

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/).
Что это за система? Какие минусы выбора данной системы?
> В рамках лекции рассматривалась одна из таких систем, а именно Redis (в статье приведены примеры платных и бесплатных решений).
> Касательно Redis, хранилище имеет встроенный механизм pub/sub, но есть минусы
> - данные хранятся в оперативной памяти, можно настроить запись на диск, что сильно снижает производительность (не рекомендуется)
> - требуется дополнительная настройка механизма кластеризации (Redis Sentinel)
