
# Домашнее задание к занятию 1.  «Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения»

## Задача 1

`Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.`

Отличие в уровнях абстракции виртуализации структурных составляющих ОС

В полной виртуализации задачи по абстракции выполняет оборудование хоста.
В паравиртуализации - вся хостовая операционная система 
В виртуализации на основе ОС - исключительно за счет средств ядра ОС.

>Доработка

Исходя из информации с лекции
- в паравиртуализации функцию гипервизора выполняет прикладное ПО (например VirtualBox)
- в полной виртуализации гипервизор предоставляет гостевым ОС прямой доступ к физическим ресурсам, а сам взаимодействует с ядром на -1м уровне
- в виртуализации на основе ОС функцию гипервезора берет на себя ядро хостовой ОС
 
## Задача 2
```
Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- высоконагруженная база данных, чувствительная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.
```

Высоконагруженная база данных, чувствительная к отказу - Физические сервера. 
Высокие критерии отзывчивости ресурсов чтения/записи, высокие требования к оперативной памяти. 
Установка гипервизора не рекомендуется;

Различные web-приложения - виртуализация уровня ОС. 
Возможность использования контейнеров позволит уменьшить время развертывания сервисов, 
уменьшить объем требуемого диского пространства, изолировать приложения друго от друга.

Windows системы для использования бухгалтерским отделом - паравиртуализация. 
Низкий порог входа компетенции специалиста, обеспечение необходимого уровня безопасности и настройка резервного копирования и восстановления без особых трудозатрат.

Системы, выполняющие высокопроизводительные расчеты на GPU - Физические сервера. Виртуализация и гипервизор уменьшат требуемые ресурсы для вычислений.

## Задача 3
```
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
```

1. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, 
репликации данных и автоматизированного механизма создания резервных копий. Hyper-V, vSphere. 
Одинаково хорошо подходят виртуальным машинам как на базе ОС Windows, так и Linux, 
имеют все необходимые возможности (балансировка нагрузки, репликация, миграция, система резервного копирования и восстановления);

2. Proxmox - бесплатное решение,одинаково хорошо поддерживает 
гостевые машины на ОС Linux и ОС Windows, производительность не хуже платных решений.

3. Hyper-V - в рамках лицензионной политики Microsoft, мы можем использовать существующие программы лицензирования 
оборудования и на хостовые машины виртуализации - по факту можем обойтись без дополнительных лицензий, 
одноврменно с чем мы получаем отличную совместимость с Windows-инфраструктурой, а также платную техническую поддержку.

4. LXD - адаптировано под гостевые машины на ОС семейства Linux, содержит множество различных дистрибутивов, а также конфигураций контейнеров.

## Задача 4
```
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации 
(использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать 
для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? 
Мотивируйте ваш ответ примерами.
```

Возможные проблемы и недостатки гетерогенной среды виртуализации:
- сложность администрирования;
- необходимое наличие высококвалифицированных специалистов;
- повышенный риск отказа и недоступности;
- завышенная стоимость обслуживания;

Действия для минимизации рисков и проблем:
- если гетерогенность не оправдана, то рассмотреть возможность отказа от нее;
- если она оправдана, то часть инфраструктуры можно перенести на IaaS (AWS), а саму инфраструктуру вывести в IaC (Terraform);
- максимальное автоматизировать развертывание и тестирование инфраструктуры, чтобы она была единая.

HyperV + KVM + Docker - более рациональное решение для всевозможных перспективных компонент инфраструктуры.
